{"title":"nginx中root&alias区别","slug":"nginx中root-alias区别","date":"2021-08-09T08:01:19.000Z","updated":"2022-01-05T09:29:23.382Z","comments":true,"path":"api/articles/nginx中root-alias区别.json","excerpt":null,"covers":null,"content":"<p>Nginx指定文件路径有两种方式root和alias，两种指令有不同的使用方法和作用域。</p>\n<ul>\n<li>root可以配置在http、server、location、if区块中</li>\n<li>alias只能配置在location区块中。</li>\n</ul>\n<p>root与alias主要区别在于Nginx如何解释location后面的uri，这会使两者分别以不同的方式将请求映射到服务器文件上。</p>\n<h2 id=\"root的处理方式\"><a href=\"#root的处理方式\" class=\"headerlink\" title=\"root的处理方式\"></a>root的处理方式</h2><p>root路径＋location路径，会使用url上的文件名</p>\n<pre class=\" language-JS\"><code class=\"language-JS\">location ^~ /appImg/{\n    root /home/nginx;\n}</code></pre>\n<p>这个location相当于访问服务器上的文件路径： /home/nginx/appImg/abc.jpg</p>\n<h2 id=\"alias的处理方式\"><a href=\"#alias的处理方式\" class=\"headerlink\" title=\"alias的处理方式\"></a>alias的处理方式</h2><p>alias的处理结果是：使用alias路径替换location路径</p>\n<pre class=\" language-JS\"><code class=\"language-JS\">location ^~ /appImg/{\n    alias /home/nginx/;\n}</code></pre>\n<p>这个location相当于访问服务器上的文件目录：/home/nginx/abc.jpg(即alias不会使用location后面配置的路径)，而且如果alias 指定的是目录，后面一定要加上 /，否则会找不到文件。</p>\n","more":"<p>Nginx指定文件路径有两种方式root和alias，两种指令有不同的使用方法和作用域。</p>\n<ul>\n<li>root可以配置在http、server、location、if区块中</li>\n<li>alias只能配置在location区块中。</li>\n</ul>\n<p>root与alias主要区别在于Nginx如何解释location后面的uri，这会使两者分别以不同的方式将请求映射到服务器文件上。</p>\n<h2 id=\"root的处理方式\"><a href=\"#root的处理方式\" class=\"headerlink\" title=\"root的处理方式\"></a>root的处理方式</h2><p>root路径＋location路径，会使用url上的文件名</p>\n<pre><code class=\"JS\">location ^~ /appImg/&#123;\n    root /home/nginx;\n&#125;</code></pre>\n<p>这个location相当于访问服务器上的文件路径： /home/nginx/appImg/abc.jpg</p>\n<h2 id=\"alias的处理方式\"><a href=\"#alias的处理方式\" class=\"headerlink\" title=\"alias的处理方式\"></a>alias的处理方式</h2><p>alias的处理结果是：使用alias路径替换location路径</p>\n<pre><code class=\"JS\">location ^~ /appImg/&#123;\n    alias /home/nginx/;\n&#125;</code></pre>\n<p>这个location相当于访问服务器上的文件目录：/home/nginx/abc.jpg(即alias不会使用location后面配置的路径)，而且如果alias 指定的是目录，后面一定要加上 /，否则会找不到文件。</p>\n","categories":[{"name":"nginx专题","path":"api/categories/nginx专题.json"}],"tags":[{"name":"nginx","path":"api/tags/nginx.json"}]}