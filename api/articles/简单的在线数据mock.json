{"title":"简单的在线数据mock","slug":"简单的在线数据mock","date":"2019-08-30T09:09:12.000Z","updated":"2020-11-02T07:43:29.074Z","comments":true,"path":"api/articles/简单的在线数据mock.json","excerpt":null,"covers":["https://7.dusays.com/2020/11/02/98aaa2c403dd1.png","https://7.dusays.com/2020/11/02/a2df1d69cadcf.png","https://note.youdao.com/yws/public/resource/633e9bc706a3a274d9926f95b1806671/xmlnote/1C6017CB352F41DD9B758D064EBCFD4B/15016"],"content":"<h1 id=\"说明：\"><a href=\"#说明：\" class=\"headerlink\" title=\"说明：\"></a>说明：</h1><p>在接口调试前，前端根据定义好的接口文档，模拟数据，发起请求，编写完整的页面逻辑，等真正开始调试的时候，将请求地址更换即可。</p>\n<p>本文只介绍在线 mock 数据的方式，在线 mock 跟本地 mock 比较，可以省去安装配置，运行服务，多人协作数据不通的多种问题。</p>\n<h1 id=\"一个简单的列子\"><a href=\"#一个简单的列子\" class=\"headerlink\" title=\"一个简单的列子\"></a>一个简单的列子</h1><p><img src=\"https://7.dusays.com/2020/11/02/98aaa2c403dd1.png\"></p>\n<p>返回结果：</p>\n<p><img src=\"https://7.dusays.com/2020/11/02/a2df1d69cadcf.png\"></p>\n<h1 id=\"Mock-语法简介\"><a href=\"#Mock-语法简介\" class=\"headerlink\" title=\"Mock 语法简介\"></a>Mock 语法简介</h1><h2 id=\"base\"><a href=\"#base\" class=\"headerlink\" title=\"base\"></a>base</h2><pre><code>{\n    \"base\": {\n    \"range\": \"@range(3, 7)\",\n    \"string\": \"@string(7, 20)\",\n    \"character\": \"@character(\\\"abcde\\\")\",\n    \"float\": \"@float(60, 100)\",\n    \"integer\": \"@integer(60, 100)\",\n    \"natural\": \"@natural(60, 100)\",\n    \"boolean\": \"@boolean\"\n  },\n}\n</code></pre>\n<p>预览：</p>\n<pre><code>\"base\": {\n    \"range\": [3,4,5,6],\n    \"string\": \"qg3)zBWiLlbrsisX\",\n    \"character\": \"c\",\n    \"float\": 66.87535733306,\n    \"integer\": 66,\n    \"natural\": 71,\n    \"boolean\": false\n  },</code></pre>\n<h2 id=\"date\"><a href=\"#date\" class=\"headerlink\" title=\"date\"></a>date</h2><pre><code>\"date\": {\n    \"date\": \"@date\",\n    \"time\": \"@time\",\n    \"datetime\": \"@datetime\",\n    \"now\": \"@now\"\n  },</code></pre>\n<p>预览：</p>\n<pre><code>\"date\": {\n    \"date\": \"1971-10-18\",\n    \"time\": \"02:04:17\",\n    \"datetime\": \"1985-03-10 22:47:49\",\n    \"now\": \"2019-09-25 13:56:44\"\n    }</code></pre>\n<h2 id=\"image\"><a href=\"#image\" class=\"headerlink\" title=\"image\"></a>image</h2><pre><code> \"image\": {\n    \"image\": \"@image(\\\"200x200\\\", \\\"#50B347\\\", \\\"#FFF\\\", \\\"FastMock\\\")\"\n  },</code></pre>\n<p>预览：</p>\n<pre><code>\"image\": {\n    \"image\": \"http://dummyimage.com/200x200/50B347/FFF&amp;text=FastMock\"\n  },</code></pre>\n<h2 id=\"text\"><a href=\"#text\" class=\"headerlink\" title=\"text\"></a>text</h2><pre><code>\"text\": {\n    \"paragraph\": \"@paragraph(1, 3)\",\n    \"sentence\": \"@sentence(3, 5)\",\n    \"word\": \"@word(3, 5)\",\n    \"title\": \"@title(3, 5)\",\n    \"cparagraph\": \"@cparagraph(1, 3)\",\n    \"csentence\": \"@csentence(3, 5)\",\n    \"cword\": \"@cword(\\\"零一二三四五六七八九十\\\", 5, 7)\",\n    \"ctitle\": \"@ctitle(3, 5)\"\n  },\n</code></pre>\n<p>预览：</p>\n<pre><code> \"text\": {\n    \"paragraph\": \"Gifp ifnk hrreyi foajbgielv doijqrd ffaooi hlwstfcfw nrgsioum wtgashcoiy sintskl hnjk ebcsec. Bhlhghu embjvvs bckwkibqhs qgqz psu mjsodprwf exidxyqnq cdyqoatr xkezagaqu ijrcqrj vvxwdwgq ivv jxcpeybpus sojcn cscdlnmi kopzvuqfin.\",\n    \"sentence\": \"Xuqxp qvek ttgiq.\",\n    \"word\": \"ynug\",\n    \"title\": \"Cdnsxa Yjhrlbb Rmofrixln Jubgpxm Gjpdujgryi\",\n    \"cparagraph\": \"装增克体都月每手物即用周几想军点程。将角权响金华生候社根利情也龙。化必去边织众东位史回际平马至。\",\n    \"csentence\": \"存断实。\",\n    \"cword\": \"三七九六六\",\n    \"ctitle\": \"油眼采小\"\n  },</code></pre>\n<h2 id=\"name\"><a href=\"#name\" class=\"headerlink\" title=\"name\"></a>name</h2><pre><code>\"name\": {\n    \"first\": \"@first\",\n    \"last\": \"@last\",\n    \"name\": \"@name\",\n    \"cfirst\": \"@cfirst\",\n    \"clast\": \"@clast\",\n    \"cname\": \"@cname\"\n  },</code></pre>\n<p>预览：</p>\n<pre><code>\"name\": {\n    \"first\": \"Jennifer\",\n    \"last\": \"Anderson\",\n    \"name\": \"Laura Moore\",\n    \"cfirst\": \"胡\",\n    \"clast\": \"秀兰\",\n    \"cname\": \"姜敏\"\n  },</code></pre>\n<h2 id=\"web\"><a href=\"#web\" class=\"headerlink\" title=\"web\"></a>web</h2><pre><code>\"web\": {\n    \"url\": \"@url\",\n    \"domain\": \"@domain\",\n    \"protocol\": \"@protocol\",\n    \"tld\": \"@tld\",\n    \"email\": \"@email\",\n    \"ip\": \"@ip\"\n  },</code></pre>\n<p>预览：</p>\n<pre><code>\"web\": {\n    \"url\": \"mid://nypjj.kr/mizdvfhl\",\n    \"domain\": \"jbgmh.cn\",\n    \"protocol\": \"ftp\",\n    \"tld\": \"fj\",\n    \"email\": \"r.bdwejkiuy@ltatgpp.an\",\n    \"ip\": \"175.52.62.226\"\n  },</code></pre>\n<h2 id=\"address\"><a href=\"#address\" class=\"headerlink\" title=\"address\"></a>address</h2><pre><code>\"address\": {\n    \"region\": \"@region\",\n    \"province\": \"@province\",\n    \"city\": \"@city(true)\",\n    \"county\": \"@county(true)\",\n    \"zip\": \"@zip\"\n  },</code></pre>\n<p>预览：</p>\n<pre><code>\"address\": {\n    \"region\": \"华中\",\n    \"province\": \"云南省\",\n    \"city\": \"天津 天津市\",\n    \"county\": \"台湾 金门县 金宁乡\",\n    \"zip\": \"539375\"\n  },</code></pre>\n<h2 id=\"miscellaneous\"><a href=\"#miscellaneous\" class=\"headerlink\" title=\"miscellaneous\"></a>miscellaneous</h2><pre><code> \"miscellaneous\": {\n    \"id\": \"@id\",\n    \"guid\": \"@guid\",\n    \"increment\": \"@increment(1000)\"\n  }</code></pre>\n<p>预览：</p>\n<pre><code> \"miscellaneous\": {\n    \"id\": \"370000201504299208\",\n    \"guid\": \"6E6155c0-f5b5-F3F6-5F0D-23EB44C21313\",\n    \"increment\": 253109\n  }</code></pre>\n<h1 id=\"Mock-高阶用法\"><a href=\"#Mock-高阶用法\" class=\"headerlink\" title=\"Mock 高阶用法\"></a>Mock 高阶用法</h1><blockquote>\n<p>Mock 能支持 function，function 中不能用上面的@XX,用 Mock.mock(“@xxx”)替代。function 中还能获取全部请求头和参数。</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>对象</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Mock</td>\n<td>Mock 对象</td>\n</tr>\n<tr>\n<td>_req.url</td>\n<td>获得请求 url 地址</td>\n</tr>\n<tr>\n<td>_req.method</td>\n<td>获取请求方法</td>\n</tr>\n<tr>\n<td>_req.params</td>\n<td>获取 url 参数对象</td>\n</tr>\n<tr>\n<td>_req.querystring</td>\n<td>获取查询参数字符串(url 中?后面的部分)，不包含 ?</td>\n</tr>\n<tr>\n<td>_req.query</td>\n<td>将查询参数字符串进行解析并以对象的形式返回，如果没有查询参数字字符串则返回一个空对象</td>\n</tr>\n<tr>\n<td>_req.body</td>\n<td>当 post 请求以 x-www-form-urlencoded 方式提交时，我们可以拿到请求的参数对象</td>\n</tr>\n</tbody></table>\n<h2 id=\"举个栗子\"><a href=\"#举个栗子\" class=\"headerlink\" title=\"举个栗子\"></a>举个栗子</h2><pre><code>{\n  code: function({\n    _req\n  }) {\n    const userName = _req.query.userName;\n    return userName ? 0 : -1;\n  },\n  data: function({\n    _req,\n    Mock\n  }) {\n    const userName = _req.query.userName;\n    return userName ? {\n      token: Mock.mock(\"@guid()\"),\n      userId: Mock.mock(\"@id(5)\"),\n      name: userName,\n      avatar: Mock.mock(\"@image(200x100, #FF6600)\"),\n      message: \"登录成功\"\n    } : {\n      message: \"登录失败\"\n    }\n  }\n}</code></pre>\n<p>预览：</p>\n<p><img src=\"https://note.youdao.com/yws/public/resource/633e9bc706a3a274d9926f95b1806671/xmlnote/1C6017CB352F41DD9B758D064EBCFD4B/15016\" alt=\"image\"></p>\n<h1 id=\"常用的在线-mock-工具\"><a href=\"#常用的在线-mock-工具\" class=\"headerlink\" title=\"常用的在线 mock 工具\"></a>常用的在线 mock 工具</h1><ul>\n<li><p>💛 <a href=\"https://www.fastmock.site/\">fast-mock</a></p>\n</li>\n<li><p>💗 <a href=\"https://easy-mock.com/\">easy-mock</a></p>\n</li>\n</ul>\n","more":"<h1 id=\"说明：\"><a href=\"#说明：\" class=\"headerlink\" title=\"说明：\"></a>说明：</h1><p>在接口调试前，前端根据定义好的接口文档，模拟数据，发起请求，编写完整的页面逻辑，等真正开始调试的时候，将请求地址更换即可。</p>\n<p>本文只介绍在线 mock 数据的方式，在线 mock 跟本地 mock 比较，可以省去安装配置，运行服务，多人协作数据不通的多种问题。</p>\n<h1 id=\"一个简单的列子\"><a href=\"#一个简单的列子\" class=\"headerlink\" title=\"一个简单的列子\"></a>一个简单的列子</h1><p><img src=\"https://7.dusays.com/2020/11/02/98aaa2c403dd1.png\"></p>\n<p>返回结果：</p>\n<p><img src=\"https://7.dusays.com/2020/11/02/a2df1d69cadcf.png\"></p>\n<h1 id=\"Mock-语法简介\"><a href=\"#Mock-语法简介\" class=\"headerlink\" title=\"Mock 语法简介\"></a>Mock 语法简介</h1><h2 id=\"base\"><a href=\"#base\" class=\"headerlink\" title=\"base\"></a>base</h2><pre><code>&#123;\n    &quot;base&quot;: &#123;\n    &quot;range&quot;: &quot;@range(3, 7)&quot;,\n    &quot;string&quot;: &quot;@string(7, 20)&quot;,\n    &quot;character&quot;: &quot;@character(\\&quot;abcde\\&quot;)&quot;,\n    &quot;float&quot;: &quot;@float(60, 100)&quot;,\n    &quot;integer&quot;: &quot;@integer(60, 100)&quot;,\n    &quot;natural&quot;: &quot;@natural(60, 100)&quot;,\n    &quot;boolean&quot;: &quot;@boolean&quot;\n  &#125;,\n&#125;\n</code></pre>\n<p>预览：</p>\n<pre><code>&quot;base&quot;: &#123;\n    &quot;range&quot;: [3,4,5,6],\n    &quot;string&quot;: &quot;qg3)zBWiLlbrsisX&quot;,\n    &quot;character&quot;: &quot;c&quot;,\n    &quot;float&quot;: 66.87535733306,\n    &quot;integer&quot;: 66,\n    &quot;natural&quot;: 71,\n    &quot;boolean&quot;: false\n  &#125;,</code></pre>\n<h2 id=\"date\"><a href=\"#date\" class=\"headerlink\" title=\"date\"></a>date</h2><pre><code>&quot;date&quot;: &#123;\n    &quot;date&quot;: &quot;@date&quot;,\n    &quot;time&quot;: &quot;@time&quot;,\n    &quot;datetime&quot;: &quot;@datetime&quot;,\n    &quot;now&quot;: &quot;@now&quot;\n  &#125;,</code></pre>\n<p>预览：</p>\n<pre><code>&quot;date&quot;: &#123;\n    &quot;date&quot;: &quot;1971-10-18&quot;,\n    &quot;time&quot;: &quot;02:04:17&quot;,\n    &quot;datetime&quot;: &quot;1985-03-10 22:47:49&quot;,\n    &quot;now&quot;: &quot;2019-09-25 13:56:44&quot;\n    &#125;</code></pre>\n<h2 id=\"image\"><a href=\"#image\" class=\"headerlink\" title=\"image\"></a>image</h2><pre><code> &quot;image&quot;: &#123;\n    &quot;image&quot;: &quot;@image(\\&quot;200x200\\&quot;, \\&quot;#50B347\\&quot;, \\&quot;#FFF\\&quot;, \\&quot;FastMock\\&quot;)&quot;\n  &#125;,</code></pre>\n<p>预览：</p>\n<pre><code>&quot;image&quot;: &#123;\n    &quot;image&quot;: &quot;http://dummyimage.com/200x200/50B347/FFF&amp;text=FastMock&quot;\n  &#125;,</code></pre>\n<h2 id=\"text\"><a href=\"#text\" class=\"headerlink\" title=\"text\"></a>text</h2><pre><code>&quot;text&quot;: &#123;\n    &quot;paragraph&quot;: &quot;@paragraph(1, 3)&quot;,\n    &quot;sentence&quot;: &quot;@sentence(3, 5)&quot;,\n    &quot;word&quot;: &quot;@word(3, 5)&quot;,\n    &quot;title&quot;: &quot;@title(3, 5)&quot;,\n    &quot;cparagraph&quot;: &quot;@cparagraph(1, 3)&quot;,\n    &quot;csentence&quot;: &quot;@csentence(3, 5)&quot;,\n    &quot;cword&quot;: &quot;@cword(\\&quot;零一二三四五六七八九十\\&quot;, 5, 7)&quot;,\n    &quot;ctitle&quot;: &quot;@ctitle(3, 5)&quot;\n  &#125;,\n</code></pre>\n<p>预览：</p>\n<pre><code> &quot;text&quot;: &#123;\n    &quot;paragraph&quot;: &quot;Gifp ifnk hrreyi foajbgielv doijqrd ffaooi hlwstfcfw nrgsioum wtgashcoiy sintskl hnjk ebcsec. Bhlhghu embjvvs bckwkibqhs qgqz psu mjsodprwf exidxyqnq cdyqoatr xkezagaqu ijrcqrj vvxwdwgq ivv jxcpeybpus sojcn cscdlnmi kopzvuqfin.&quot;,\n    &quot;sentence&quot;: &quot;Xuqxp qvek ttgiq.&quot;,\n    &quot;word&quot;: &quot;ynug&quot;,\n    &quot;title&quot;: &quot;Cdnsxa Yjhrlbb Rmofrixln Jubgpxm Gjpdujgryi&quot;,\n    &quot;cparagraph&quot;: &quot;装增克体都月每手物即用周几想军点程。将角权响金华生候社根利情也龙。化必去边织众东位史回际平马至。&quot;,\n    &quot;csentence&quot;: &quot;存断实。&quot;,\n    &quot;cword&quot;: &quot;三七九六六&quot;,\n    &quot;ctitle&quot;: &quot;油眼采小&quot;\n  &#125;,</code></pre>\n<h2 id=\"name\"><a href=\"#name\" class=\"headerlink\" title=\"name\"></a>name</h2><pre><code>&quot;name&quot;: &#123;\n    &quot;first&quot;: &quot;@first&quot;,\n    &quot;last&quot;: &quot;@last&quot;,\n    &quot;name&quot;: &quot;@name&quot;,\n    &quot;cfirst&quot;: &quot;@cfirst&quot;,\n    &quot;clast&quot;: &quot;@clast&quot;,\n    &quot;cname&quot;: &quot;@cname&quot;\n  &#125;,</code></pre>\n<p>预览：</p>\n<pre><code>&quot;name&quot;: &#123;\n    &quot;first&quot;: &quot;Jennifer&quot;,\n    &quot;last&quot;: &quot;Anderson&quot;,\n    &quot;name&quot;: &quot;Laura Moore&quot;,\n    &quot;cfirst&quot;: &quot;胡&quot;,\n    &quot;clast&quot;: &quot;秀兰&quot;,\n    &quot;cname&quot;: &quot;姜敏&quot;\n  &#125;,</code></pre>\n<h2 id=\"web\"><a href=\"#web\" class=\"headerlink\" title=\"web\"></a>web</h2><pre><code>&quot;web&quot;: &#123;\n    &quot;url&quot;: &quot;@url&quot;,\n    &quot;domain&quot;: &quot;@domain&quot;,\n    &quot;protocol&quot;: &quot;@protocol&quot;,\n    &quot;tld&quot;: &quot;@tld&quot;,\n    &quot;email&quot;: &quot;@email&quot;,\n    &quot;ip&quot;: &quot;@ip&quot;\n  &#125;,</code></pre>\n<p>预览：</p>\n<pre><code>&quot;web&quot;: &#123;\n    &quot;url&quot;: &quot;mid://nypjj.kr/mizdvfhl&quot;,\n    &quot;domain&quot;: &quot;jbgmh.cn&quot;,\n    &quot;protocol&quot;: &quot;ftp&quot;,\n    &quot;tld&quot;: &quot;fj&quot;,\n    &quot;email&quot;: &quot;r.bdwejkiuy@ltatgpp.an&quot;,\n    &quot;ip&quot;: &quot;175.52.62.226&quot;\n  &#125;,</code></pre>\n<h2 id=\"address\"><a href=\"#address\" class=\"headerlink\" title=\"address\"></a>address</h2><pre><code>&quot;address&quot;: &#123;\n    &quot;region&quot;: &quot;@region&quot;,\n    &quot;province&quot;: &quot;@province&quot;,\n    &quot;city&quot;: &quot;@city(true)&quot;,\n    &quot;county&quot;: &quot;@county(true)&quot;,\n    &quot;zip&quot;: &quot;@zip&quot;\n  &#125;,</code></pre>\n<p>预览：</p>\n<pre><code>&quot;address&quot;: &#123;\n    &quot;region&quot;: &quot;华中&quot;,\n    &quot;province&quot;: &quot;云南省&quot;,\n    &quot;city&quot;: &quot;天津 天津市&quot;,\n    &quot;county&quot;: &quot;台湾 金门县 金宁乡&quot;,\n    &quot;zip&quot;: &quot;539375&quot;\n  &#125;,</code></pre>\n<h2 id=\"miscellaneous\"><a href=\"#miscellaneous\" class=\"headerlink\" title=\"miscellaneous\"></a>miscellaneous</h2><pre><code> &quot;miscellaneous&quot;: &#123;\n    &quot;id&quot;: &quot;@id&quot;,\n    &quot;guid&quot;: &quot;@guid&quot;,\n    &quot;increment&quot;: &quot;@increment(1000)&quot;\n  &#125;</code></pre>\n<p>预览：</p>\n<pre><code> &quot;miscellaneous&quot;: &#123;\n    &quot;id&quot;: &quot;370000201504299208&quot;,\n    &quot;guid&quot;: &quot;6E6155c0-f5b5-F3F6-5F0D-23EB44C21313&quot;,\n    &quot;increment&quot;: 253109\n  &#125;</code></pre>\n<h1 id=\"Mock-高阶用法\"><a href=\"#Mock-高阶用法\" class=\"headerlink\" title=\"Mock 高阶用法\"></a>Mock 高阶用法</h1><blockquote>\n<p>Mock 能支持 function，function 中不能用上面的@XX,用 Mock.mock(“@xxx”)替代。function 中还能获取全部请求头和参数。</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>对象</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Mock</td>\n<td>Mock 对象</td>\n</tr>\n<tr>\n<td>_req.url</td>\n<td>获得请求 url 地址</td>\n</tr>\n<tr>\n<td>_req.method</td>\n<td>获取请求方法</td>\n</tr>\n<tr>\n<td>_req.params</td>\n<td>获取 url 参数对象</td>\n</tr>\n<tr>\n<td>_req.querystring</td>\n<td>获取查询参数字符串(url 中?后面的部分)，不包含 ?</td>\n</tr>\n<tr>\n<td>_req.query</td>\n<td>将查询参数字符串进行解析并以对象的形式返回，如果没有查询参数字字符串则返回一个空对象</td>\n</tr>\n<tr>\n<td>_req.body</td>\n<td>当 post 请求以 x-www-form-urlencoded 方式提交时，我们可以拿到请求的参数对象</td>\n</tr>\n</tbody></table>\n<h2 id=\"举个栗子\"><a href=\"#举个栗子\" class=\"headerlink\" title=\"举个栗子\"></a>举个栗子</h2><pre><code>&#123;\n  code: function(&#123;\n    _req\n  &#125;) &#123;\n    const userName = _req.query.userName;\n    return userName ? 0 : -1;\n  &#125;,\n  data: function(&#123;\n    _req,\n    Mock\n  &#125;) &#123;\n    const userName = _req.query.userName;\n    return userName ? &#123;\n      token: Mock.mock(&quot;@guid()&quot;),\n      userId: Mock.mock(&quot;@id(5)&quot;),\n      name: userName,\n      avatar: Mock.mock(&quot;@image(200x100, #FF6600)&quot;),\n      message: &quot;登录成功&quot;\n    &#125; : &#123;\n      message: &quot;登录失败&quot;\n    &#125;\n  &#125;\n&#125;</code></pre>\n<p>预览：</p>\n<p><img src=\"https://note.youdao.com/yws/public/resource/633e9bc706a3a274d9926f95b1806671/xmlnote/1C6017CB352F41DD9B758D064EBCFD4B/15016\" alt=\"image\"></p>\n<h1 id=\"常用的在线-mock-工具\"><a href=\"#常用的在线-mock-工具\" class=\"headerlink\" title=\"常用的在线 mock 工具\"></a>常用的在线 mock 工具</h1><ul>\n<li><p>💛 <a href=\"https://www.fastmock.site/\">fast-mock</a></p>\n</li>\n<li><p>💗 <a href=\"https://easy-mock.com/\">easy-mock</a></p>\n</li>\n</ul>\n","categories":[{"name":"开发工具","path":"api/categories/开发工具.json"}],"tags":[{"name":"项目总结","path":"api/tags/项目总结.json"}]}